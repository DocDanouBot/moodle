import ModalForm from"core_form/modalform";import Notification from"core/notification";import{getString}from"core/str";const selectors={modaltrigger:'[data-action="usetemplate"]'};export const init=()=>{const trigger=document.querySelector(selectors.modaltrigger);trigger.addEventListener("click",event=>{event.preventDefault();const modalForm=new ModalForm({modalConfig:{title:getString("use_this_template","mod_bycs_feedback")},formClass:"mod_bycs_feedback\\form\\use_template_form",args:{id:trigger.getAttribute("data-dataid"),templateid:trigger.getAttribute("data-templateid")},saveButtonText:getString("save","core")});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,event=>{if(event.detail.result){window.location.assign(event.detail.url)}else{Notification.addNotification({type:"error",message:getString("saving_failed","mod_bycs_feedback")})}});modalForm.show()})};