import ModalForm from"core_form/modalform";import Notification from"core/notification";import{getString}from"core/str";import{add as addToast}from"core/toast";const selectors={modaltrigger:'[data-action="createtemplate"]'};export const init=()=>{const trigger=document.querySelector(selectors.modaltrigger);trigger.addEventListener("click",event=>{event.preventDefault();const ele=event.currentTarget;const modalForm=new ModalForm({modalConfig:{title:getString("save_as_new_template","mod_bycs_feedback")},formClass:"mod_bycs_feedback\\form\\create_template_form",args:{id:ele.dataset.dataid},saveButtonText:getString("save","core")});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,event=>{if(event.detail.result){getString("template_saved","feedback").then(addToast).catch()}else{getString("saving_failed","feedback").then(string=>{return Notification.addNotification({type:"error",message:string})}).catch()}});modalForm.show()})};